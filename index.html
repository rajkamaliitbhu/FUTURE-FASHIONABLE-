<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IIT BHU T-Shirt Store - Raj Kamal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .iit-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
            background-size: 300% 300%;
            animation: gradientShift 8s ease infinite;
        }
        .product-card {
            transition: all 0.3s ease;
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }
        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px -12px rgba(59, 130, 246, 0.25);
            border-color: rgba(59, 130, 246, 0.3);
        }
        .btn-primary {
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 50%, #45b7d1 100%);
            background-size: 200% 200%;
            transition: all 0.3s ease;
            animation: buttonGlow 2s ease-in-out infinite alternate;
        }
        .btn-primary:hover {
            background: linear-gradient(135deg, #ff5252 0%, #26d0ce 50%, #2196f3 100%);
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(255, 107, 107, 0.4), 0 5px 15px rgba(78, 205, 196, 0.3);
            background-position: 100% 0;
        }
        @keyframes buttonGlow {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }
        .price-tag {
            background: linear-gradient(135deg, #ff6b6b 0%, #feca57 50%, #ff9ff3 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: priceShine 3s ease-in-out infinite;
        }
        @keyframes priceShine {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        .admin-secret {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 30px;
            height: 30px;
            background: transparent;
            border: none;
            cursor: pointer;
            z-index: 1000;
            opacity: 0.1;
        }
        .animated-bg {
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab, #f093fb, #f5576c, #4facfe, #00f2fe);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .floating-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        .shape {
            position: absolute;
            opacity: 0.1;
            animation: float 20s infinite linear;
        }
        .shape:nth-child(1) { left: 10%; animation-delay: 0s; }
        .shape:nth-child(2) { left: 20%; animation-delay: 2s; }
        .shape:nth-child(3) { left: 30%; animation-delay: 4s; }
        .shape:nth-child(4) { left: 40%; animation-delay: 6s; }
        .shape:nth-child(5) { left: 50%; animation-delay: 8s; }
        .shape:nth-child(6) { left: 60%; animation-delay: 10s; }
        .shape:nth-child(7) { left: 70%; animation-delay: 12s; }
        .shape:nth-child(8) { left: 80%; animation-delay: 14s; }
        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); }
            100% { transform: translateY(-100px) rotate(360deg); }
        }
        .rainbow-text {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57, #ff9ff3, #54a0ff);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: rainbowShift 3s ease-in-out infinite;
        }
        @keyframes rainbowShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        .glow-card {
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.3), 0 0 40px rgba(78, 205, 196, 0.2), 0 0 60px rgba(69, 183, 209, 0.1);
            transition: all 0.3s ease;
        }
        .glow-card:hover {
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.5), 0 0 60px rgba(78, 205, 196, 0.4), 0 0 90px rgba(69, 183, 209, 0.3);
            transform: translateY(-10px) scale(1.02);
        }
        .sidebar {
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }
        .sidebar.open {
            transform: translateX(0);
        }
        .overlay {
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .overlay.active {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>
<body class="animated-bg min-h-screen">
    <!-- Floating Shapes Background -->
    <div class="floating-shapes">
        <div class="shape">🎓</div>
        <div class="shape">👕</div>
        <div class="shape">⚡</div>
        <div class="shape">🌟</div>
        <div class="shape">🎨</div>
        <div class="shape">💫</div>
        <div class="shape">🚀</div>
        <div class="shape">✨</div>
    </div>

    <!-- Mobile Sidebar Overlay -->
    <div id="sidebar-overlay" class="overlay fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden"></div>
    
    <!-- Sidebar -->
    <div id="sidebar" class="sidebar fixed left-0 top-0 h-full w-64 iit-gradient text-white z-50 lg:translate-x-0">
        <div class="p-6">
            <div class="flex items-center justify-between mb-8">
                <div>
                    <h1 class="text-xl font-bold">FUTURE FASHIONABLE Student Shop</h1>
                    <p class="text-sm opacity-80">by Raj Kamal</p>
                </div>
                <button id="close-sidebar" class="lg:hidden text-white hover:text-gray-300">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <nav class="space-y-2">
                <button onclick="showPage('home')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center space-x-3">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"></path>
                    </svg>
                    <span>Home</span>
                </button>
                
                <button onclick="showPage('orders')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center space-x-3">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                    </svg>
                    <span>My Orders</span>
                </button>
                
                <button onclick="showPage('help')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center space-x-3">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span>Help & FAQ</span>
                </button>
                
                <button onclick="showPage('about')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center space-x-3">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span>About</span>
                </button>
            </nav>
        </div>
    </div>

    <!-- Main Content -->
    <div class="lg:ml-64 relative z-10">
        <!-- Top Bar -->
        <div class="bg-white bg-opacity-90 backdrop-blur-sm shadow-lg border-b border-purple-200 p-4 flex items-center justify-between">
            <button id="menu-toggle" class="lg:hidden text-gray-600 hover:text-gray-900">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
            <h2 id="page-title" class="text-xl font-semibold text-gray-900">IIT BHU Student Shop</h2>
            <div class="w-6 lg:hidden"></div>
        </div>

        <!-- Home Page -->
        <div id="home-page" class="page p-6">
            <div class="mb-8">
                <div class="text-center mb-8">
                    <h3 class="text-4xl font-bold rainbow-text mb-2">FUTURE FASHIONABLE IIT BHU T-Shirts</h3>
                    <p class="text-gray-600">Custom designs with your name • High quality cotton • Fast delivery</p>
                </div>
                
                <div id="products-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    <!-- Products will be loaded here -->
                </div>
                
                <!-- Contact Section -->
                <div class="mt-12 bg-white bg-opacity-90 backdrop-blur-sm rounded-lg shadow-lg p-8">
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-bold rainbow-text mb-2">Get in Touch</h3>
                        <p class="text-gray-600">Have questions? Need custom designs? Contact us!</p>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="text-center p-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg">
                            <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-3">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                </svg>
                            </div>
                            <h4 class="font-semibold text-gray-900 mb-2">Email</h4>
                            <p class="text-gray-600 text-sm">neelesh.athiya.mec23@itbhu.ac.in</p>
                        </div>
                        
                        <div class="text-center p-4 bg-gradient-to-br from-green-50 to-teal-50 rounded-lg">
                            <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                                </svg>
                            </div>
                            <h4 class="font-semibold text-gray-900 mb-2">WhatsApp</h4>
                            <p class="text-gray-600 text-sm">+91 9171704286</p>
                        </div>
                        
                        <div class="text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg">
                            <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-3">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                </svg>
                            </div>
                            <h4 class="font-semibold text-gray-900 mb-2">About</h4>
                            <p class="text-gray-600 text-sm">Learn more about our story</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Orders Page -->
        <div id="orders-page" class="page hidden p-6">
            <div class="bg-white rounded-lg shadow-sm p-8">
                <div class="text-center">
                    <svg class="mx-auto h-16 w-16 text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                    </svg>
                    <h3 class="text-lg font-medium text-gray-900 mb-2">No orders yet</h3>
                    <p class="text-gray-500 mb-6">Your order history will appear here after you make your first purchase.</p>
                    <button onclick="showPage('home')" class="btn-primary text-white px-6 py-3 rounded-lg font-medium">
                        Browse T-Shirts 👕
                    </button>
                </div>
            </div>
        </div>

        <!-- Help Page -->
        <div id="help-page" class="page hidden p-6">
            <div class="max-w-4xl mx-auto space-y-6">
                <div class="bg-white rounded-lg shadow-sm p-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-6">Frequently Asked Questions</h3>
                    
                    <div class="space-y-6">
                        <div>
                            <h4 class="font-medium text-gray-900 mb-2">How do I place an order?</h4>
                            <p class="text-gray-600">Click "Order Now" on any T-shirt. You'll be redirected to your UPI payment app (GPay, PhonePe, Paytm, BHIM) with pre-filled payment details.</p>
                        </div>
                        
                        <div>
                            <h4 class="font-medium text-gray-900 mb-2">What payment methods do you accept?</h4>
                            <p class="text-gray-600">We accept UPI payments through all major apps. Payment is processed instantly and securely.</p>
                        </div>
                        
                        <div>
                            <h4 class="font-medium text-gray-900 mb-2">How long does delivery take?</h4>
                            <p class="text-gray-600">Within IIT BHU campus: 1-2 days. Outside campus in Varanasi: 2-3 days. Other cities: 5-7 working days.</p>
                        </div>
                        
                        <div>
                            <h4 class="font-medium text-gray-900 mb-2">Can I customize the design or add my name?</h4>
                            <p class="text-gray-600">Yes! All our T-shirts can be customized with your name, batch year, or department. Just mention it when ordering.</p>
                        </div>
                        
                        <div>
                            <h4 class="font-medium text-gray-900 mb-2">What's your return/exchange policy?</h4>
                            <p class="text-gray-600">We offer exchanges within 7 days for size issues or manufacturing defects. Custom printed items can only be exchanged if defective.</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-sm p-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">Contact Information</h3>
                    <div class="space-y-3">
                        <div class="flex items-center space-x-3">
                            <svg class="h-5 w-5 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                            <span class="text-gray-700"> Neelesh athiya - IIT BHU Student</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <svg class="h-5 w-5 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                            <span class="text-gray-700">neelesh.athiya.mec23@itbhu.ac.in </span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <svg class="h-5 w-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                            </svg>
                            <span class="text-gray-700">+91 9171704286 , +91 9171700209</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <svg class="h-5 w-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                            <span class="text-gray-700">IIT BHU Campus, Varanasi - 221005</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- About Page -->
        <div id="about-page" class="page hidden p-6">
            <div class="max-w-4xl mx-auto">
                <div class="bg-white rounded-lg shadow-sm p-8">
                    <div class="text-center mb-8">
                        <div class="w-20 h-20 iit-gradient rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-white text-xl font-bold">IIT</span>
                        </div>
                        <h3 class="text-2xl font-semibold text-gray-900 mb-4">About IIT BHU T-Shirt Store</h3>
                        <p class="text-gray-600">Made by students, for students</p>
                    </div>
                    
                    <div class="prose max-w-none text-gray-600 space-y-6">
                        <p>
                            Hi! I'm Neelesh Athiya , a student at IIT BHU, and I started this small business to provide high-quality, 
                            custom T-shirts for our amazing IIT BHU community. Every T-shirt is designed with pride and printed 
                            with care to celebrate our institute's legacy.
                        </p>
                        
                        <div class="grid md:grid-cols-2 gap-6 my-8">
                            <div class="bg-blue-50 p-6 rounded-lg">
                                <h4 class="font-semibold text-blue-900 mb-3">🎯 Our Mission</h4>
                                <p class="text-blue-800">To provide premium quality, affordable custom T-shirts that help IIT BHU students showcase their pride and identity.</p>
                            </div>
                            <div class="bg-blue-50 p-6 rounded-lg">
                                <h4 class="font-semibold text-blue-900 mb-3">✨ Our Promise</h4>
                                <p class="text-blue-800">High-quality materials, vibrant prints, fast delivery, and excellent customer service - all at student-friendly prices.</p>
                            </div>
                        </div>
                        
                        <p>
                            Whether you want a classic IIT BHU design, your department logo, or a completely custom creation 
                            with your name and batch year, we've got you covered. Each T-shirt is made with premium cotton 
                            and printed using the latest technology for durability and comfort.
                        </p>
                        
                        <div class="text-center bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg">
                            <p class="font-medium text-blue-900">
                                Thank you for supporting this student initiative and being part of the IIT BHU family! 🎓
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="admin-panel" class="page hidden p-6">
            <div class="max-w-4xl mx-auto">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-2xl font-bold text-gray-900">Admin Panel</h2>
                    <button onclick="showPage('home')" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
                        Back to Store
                    </button>
                </div>
                
                <div class="grid lg:grid-cols-2 gap-6">
                    <!-- Add Product -->
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-4">Add New Product</h3>
                        <form id="add-product-form" class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Product Name</label>
                                <input type="text" id="product-name" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Price (₹)</label>
                                <input type="number" id="product-price" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Stock Quantity</label>
                                <input type="number" id="product-stock" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Product Image</label>
                                <input type="file" id="product-image" accept="image/*" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <p class="text-sm text-gray-500 mt-1">Upload image or leave empty for default design</p>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                                <textarea id="product-description" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                            </div>
                            
                            <button type="submit" class="w-full btn-primary text-white py-3 px-4 rounded-lg font-medium">
                                Add Product
                            </button>
                        </form>
                    </div>
                    
                    <!-- Telegram Settings -->
                    <!-- <div class="bg-white rounded-lg shadow-sm p-6">
    <h3 class="text-xl font-semibold text-gray-900 mb-4">Telegram Notifications</h3>
    <div class="space-y-4">
        <div class="bg-blue-50 p-4 rounded-lg">
            <h4 class="font-medium text-blue-900 mb-2">Bot Connected ✅</h4>
            <p class="text-sm text-blue-800">Orders will be sent to your Telegram automatically.</p>
        </div>
        <button onclick="testTelegramNotification()" class="w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700">
            Test Notification
        </button>
    </div>
</div>

<script>
const BOT_TOKEN = "7725815217:AAHnUiqv2KM3sFc4UOUtykNmVBxC-dBgJTU";
const CHAT_ID = "1872918006";

function sendTelegramMessage(message) {
    fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
            chat_id: CHAT_ID,
            text: message
        })
    })
    .then(res => res.json())
    .then(data => {
        if (!data.ok) {
            console.error("Telegram error:", data);
            alert("Failed to send message to Telegram.");
        }
    })
    .catch(err => {
        console.error("Request failed:", err);
    });
}

function testTelegramNotification() {
    sendTelegramMessage("🚀 Test Message: Your bot is working perfectly!");
}

// Example: Call this function after an order is placed
function orderPlaced(orderDetails) {
    let msg = `📦 New Order Received!\n\n` +
              `Name: ${orderDetails.name}\n` +
              `Phone: ${orderDetails.phone}\n` +
              `Product: ${orderDetails.product}\n` +
              `Amount: ₹${orderDetails.amount}`;
    sendTelegramMessage(msg);
}
</script>
-->


                     
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <h3 class="text-xl font-semibold text-gray-900 mb-4">Telegram Notifications</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Bot Token</label>
                                <input type="text" id="telegram-bot-token" placeholder="123456789:ABCdefGHIjklMNOpqrsTUVwxyz" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <p class="text-sm text-gray-500 mt-1">Get from @BotFather on Telegram</p>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Chat ID</label>
                                <input type="text" id="telegram-chat-id" placeholder="-1001234567890" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <p class="text-sm text-gray-500 mt-1">Your personal or group chat ID</p>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <h4 class="font-medium text-blue-900 mb-2">Quick Setup:</h4>
                                <ol class="text-sm text-blue-800 space-y-1">
                                    <li>1. Message @BotFather on Telegram</li>
                                    <li>2. Create new bot with /newbot</li>
                                    <li>3. Get your bot token</li>
                                    <li>4. Get chat ID from @userinfobot</li>
                                </ol>
                            </div>
                            <button onclick="saveTelegramSettings()" class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700">
                                Save Settings
                            </button>
                            <button onclick="testTelegramNotification()" class="w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700">
                                Test Notification
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> 

    <!-- Order Modal -->
    <div id="order-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-gray-900">Order Details</h3>
                    <button onclick="closeOrderModal()" class="text-gray-500 hover:text-gray-700">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                
                <form id="order-form" class="space-y-4">
                    <div id="product-info" class="bg-blue-50 p-4 rounded-lg mb-4">
                        <!-- Product info will be filled here -->
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Full Name *</label>
                        <input type="text" id="customer-name" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number *</label>
                        <input type="tel" id="customer-phone" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">T-Shirt Size *</label>
                        <select id="tshirt-size" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Select Size</option>
                            <option value="S">Small (S)</option>
                            <option value="M">Medium (M)</option>
                            <option value="L">Large (L)</option>
                            <option value="XL">Extra Large (XL)</option>
                            <option value="XXL">XXL</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Delivery Address *</label>
                        <textarea id="customer-address" required rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Room/Hostel/Building details..."></textarea>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Custom Name/Text (Optional)</label>
                        <input type="text" id="custom-text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Your name, batch year, etc.">
                    </div>
                    
                    <div class="flex space-x-3 pt-4">
                        <button type="button" onclick="closeOrderModal()" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50">
                            Cancel
                        </button>
                        <button type="submit" class="flex-1 btn-primary text-white py-2 px-4 rounded-lg font-medium">
                            Order Now 💳
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Secret Admin Button -->
    <button class="admin-secret" onclick="checkAdminAccess()"></button>

    <script>
        // Store data
        let products = [
            {
                id: 1,
                name: "Classic IIT BHU Tee",
                price: 499,
                stock: 20,
                image: "aa.jpg",
                description: "Premium cotton T-shirt with classic IIT BHU logo and founding year"
            },
            {
                id: 2,
                name: "Custom Name Edition",
                price: 599,
                stock: 15,
                image: "bb.jpg",
                description: "Personalized T-shirt with your name, batch year, and department"
            },
            {
                id: 3,
                name: "Computer Science Dept",
                price: 549,
                stock: 8,
                image: "cc.jpg",
                description: "Computer Science & Engineering department special edition"
            },
            {
                id: 4,
                name: "Mechanical Engineering",
                price: 549,
                stock: 6,
                image: "dd.jpg",
                description: "Mechanical Engineering department T-shirt with gear design"
            },
            {
                id: 5,
                name: "Electrical Engineering",
                price: 549,
                stock: 7,
                image: "ee.jpg",
                description: "Electrical Engineering department with circuit wave design"
            },
            {
                id: 6,
                name: "Civil Engineering",
                price: 549,
                stock: 5,
                image: "ff.jpg",
                description: "Civil Engineering department with building structure design"
            },
            {
                id: 7,
                name: "Civil Engineering",
                price: 549,
                stock: 5,
                image: "gg.jpg",
                description: "Civil Engineering department with building structure design"
            }
        ];

        // UPI Settings
        const upiSettings = {
            upiId: "rajkamal913@ptaxis",
            merchantName: "Raj Kamal"
        };

        // Telegram Settings
        let telegramSettings = {
            botToken: "",
            chatId: ""
        };

        let currentProduct = null;

        // Navigation functions
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show selected page
            document.getElementById(pageId + '-page').classList.remove('hidden');
            
            // Update page title
            const titles = {
                'home': 'IIT BHU Student Shop',
                'orders': 'My Orders',
                'help': 'Help & FAQ',
                'about': 'About Us',
                'admin': 'Admin Panel'
            };
            document.getElementById('page-title').textContent = titles[pageId] || 'IIT BHU Store';
            
            // Close sidebar on mobile
            closeSidebar();
            
            // Load products if home page
            if (pageId === 'home') {
                loadProducts();
            }
        }

        // Sidebar functions
        function openSidebar() {
            document.getElementById('sidebar').classList.add('open');
            document.getElementById('sidebar-overlay').classList.add('active');
        }

        function closeSidebar() {
            document.getElementById('sidebar').classList.remove('open');
            document.getElementById('sidebar-overlay').classList.remove('active');
        }

        // Product functions
        function loadProducts() {
            const grid = document.getElementById('products-grid');
            grid.innerHTML = '';
            
            products.forEach(product => {
                const productCard = createProductCard(product);
                grid.appendChild(productCard);
            });
        }

        function createProductCard(product) {
            const card = document.createElement('div');
            card.className = 'product-card glow-card bg-white rounded-lg shadow-sm overflow-hidden';
            
            const stockStatus = product.stock === 0 ? 'Out of Stock' : 
                               product.stock <= 3 ? `Only ${product.stock} left!` : 
                               `${product.stock} in stock`;
            
            const stockColor = product.stock === 0 ? 'text-red-600' : 
                              product.stock <= 3 ? 'text-orange-600' : 
                              'text-green-600';
            
            card.innerHTML = `
                <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover">
                <div class="p-4">
                    <h3 class="text-lg font-semibold text-gray-900 mb-2">${product.name}</h3>
                    <p class="text-gray-600 text-sm mb-3">${product.description}</p>
                    <div class="flex justify-between items-center mb-3">
                        <span class="text-2xl font-bold price-tag">₹${product.price}</span>
                        <span class="text-sm ${stockColor} font-medium">${stockStatus}</span>
                    </div>
                    <button onclick="openOrderModal(${product.id})" 
                            class="w-full btn-primary text-white py-3 px-4 rounded-lg font-medium transition-all ${product.stock === 0 ? 'opacity-50 cursor-not-allowed' : 'hover:shadow-lg'}"
                            ${product.stock === 0 ? 'disabled' : ''}>
                        ${product.stock === 0 ? 'Out of Stock' : 'Order Now 🛒'}
                    </button>
                </div>
            `;
            
            return card;
        }

        // Order functions
        function openOrderModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product || product.stock === 0) return;
            
            currentProduct = product;
            
            // Fill product info
            document.getElementById('product-info').innerHTML = `
                <div class="flex items-center space-x-3">
                    <img src="${product.image}" alt="${product.name}" class="w-16 h-16 object-cover rounded-lg">
                    <div>
                        <h4 class="font-semibold text-gray-900">${product.name}</h4>
                        <p class="text-lg font-bold text-blue-600">₹${product.price}</p>
                    </div>
                </div>
            `;
            
            // Show modal
            document.getElementById('order-modal').classList.remove('hidden');
        }

        function closeOrderModal() {
            document.getElementById('order-modal').classList.add('hidden');
            document.getElementById('order-form').reset();
            currentProduct = null;
        }

        // Generate order ID
        function generateOrderId() {
            const timestamp = Date.now().toString().slice(-6);
            const random = Math.floor(Math.random() * 1000).toString().padStart(3, '0');
            return `IIT${timestamp}${random}`;
        }

        // Send Telegram notification
        async function sendTelegramNotification(orderData) {
            if (!telegramSettings.botToken || !telegramSettings.chatId) {
                console.log("Telegram not configured");
                return;
            }

            const message = `🛒 NEW ORDER RECEIVED!

📋 Order ID: ${orderData.orderId}
📅 ${orderData.timestamp}

👕 PRODUCT:
• ${orderData.product.name}
• Size: ${orderData.size}
• Price: ₹${orderData.product.price}

👤 CUSTOMER:
• Name: ${orderData.customer.name}
• Phone: ${orderData.customer.phone}
• Address: ${orderData.customer.address}

✨ Custom Text: ${orderData.customText || 'None'}

💳 Payment: ₹${orderData.product.price} via UPI
Status: Payment initiated

#NewOrder #IITBHU #RajKamal`;

            try {
                const response = await fetch(`https://api.telegram.org/bot${telegramSettings.botToken}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: telegramSettings.chatId,
                        text: message
                    })
                });

                if (response.ok) {
                    console.log("Order notification sent to Telegram");
                } else {
                    console.error("Failed to send Telegram notification");
                }
            } catch (error) {
                console.error("Error sending Telegram notification:", error);
            }
        }

        // Handle order form submission
        document.getElementById('order-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!currentProduct) return;
            
            const orderData = {
                orderId: generateOrderId(),
                product: currentProduct,
                customer: {
                    name: document.getElementById('customer-name').value,
                    phone: document.getElementById('customer-phone').value,
                    address: document.getElementById('customer-address').value
                },
                size: document.getElementById('tshirt-size').value,
                customText: document.getElementById('custom-text').value,
                timestamp: new Date().toLocaleString()
            };
            
            // Send notification to Telegram
            sendTelegramNotification(orderData);
            
            // Create UPI payment URL
            const upiUrl = `upi://pay?pa=${upiSettings.upiId}&pn=${encodeURIComponent(upiSettings.merchantName)}&cu=INR&am=${currentProduct.price}&tn=${encodeURIComponent(`IIT BHU T-Shirt Order ${orderData.orderId}`)}`;
            
            // Save order locally
            let orders = JSON.parse(localStorage.getItem('orders') || '[]');
            orders.push(orderData);
            localStorage.setItem('orders', JSON.stringify(orders));
            
            // Reduce stock
            currentProduct.stock -= 1;
            
            // Open UPI payment
            window.location.href = upiUrl;
            
            // Show success message
            setTimeout(() => {
                alert(`Order placed successfully! 
Order ID: ${orderData.orderId}

✅ Payment app should open automatically
✅ Order details sent to Neelesh Athiya

Thank you for your order! 🎉`);
            }, 500);
            
            // Refresh products and close modal
            loadProducts();
            closeOrderModal();
        });

        // Admin functions
        function checkAdminAccess() {
            const password = prompt("Enter admin password:");
            if (password === "rajkamal2024") {
                showPage('admin');
            } else if (password !== null) {
                alert("Incorrect password!");
            }
        }

        function saveTelegramSettings() {
            telegramSettings.botToken = document.getElementById('telegram-bot-token').value;
            telegramSettings.chatId = document.getElementById('telegram-chat-id').value;
            
            localStorage.setItem('telegramSettings', JSON.stringify(telegramSettings));
            alert("Telegram settings saved successfully!");
        }

        async function testTelegramNotification() {
            if (!telegramSettings.botToken || !telegramSettings.chatId) {
                alert("Please configure Telegram settings first!");
                return;
            }

            const testMessage = `🧪 TEST NOTIFICATION

✅ Telegram integration is working!
📅 ${new Date().toLocaleString()}

Your IIT BHU T-Shirt Store is ready to receive order notifications!

#TestNotification #IITBHU #RajKamal`;

            try {
                const response = await fetch(`https://api.telegram.org/bot${telegramSettings.botToken}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: telegramSettings.chatId,
                        text: testMessage
                    })
                });

                if (response.ok) {
                    alert("✅ Test notification sent successfully! Check your Telegram.");
                } else {
                    alert("❌ Failed to send test notification. Please check your settings.");
                }
            } catch (error) {
                alert("❌ Error sending test notification. Please check your internet connection.");
            }
        }

        // Add product form handler
        document.getElementById('add-product-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('product-name').value;
            const price = parseInt(document.getElementById('product-price').value);
            const stock = parseInt(document.getElementById('product-stock').value);
            const description = document.getElementById('product-description').value;
            const imageFile = document.getElementById('product-image').files[0];
            
            // Default image if none uploaded
            let imageUrl = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300' viewBox='0 0 300 300'%3E%3Crect width='300' height='300' fill='%23ffffff'/%3E%3Crect x='20' y='50' width='260' height='200' rx='15' fill='%236b7280'/%3E%3Ctext x='150' y='135' text-anchor='middle' fill='white' font-size='18' font-weight='bold'%3EIIT BHU%3C/text%3E%3Ctext x='150' y='160' text-anchor='middle' fill='white' font-size='14'%3ECustom Design%3C/text%3E%3C/svg%3E";
            
            if (imageFile) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    addNewProduct(name, price, stock, description, e.target.result);
                };
                reader.readAsDataURL(imageFile);
            } else {
                addNewProduct(name, price, stock, description, imageUrl);
            }
        });

        function addNewProduct(name, price, stock, description, imageUrl) {
            const newProduct = {
                id: products.length + 1,
                name: name,
                price: price,
                stock: stock,
                image: imageUrl,
                description: description || "Custom IIT BHU T-shirt"
            };
            
            products.push(newProduct);
            document.getElementById('add-product-form').reset();
            alert("Product added successfully!");
            
            if (document.getElementById('home-page').classList.contains('hidden') === false) {
                loadProducts();
            }
        }

        // Event listeners
        document.getElementById('menu-toggle').addEventListener('click', openSidebar);
        document.getElementById('close-sidebar').addEventListener('click', closeSidebar);
        document.getElementById('sidebar-overlay').addEventListener('click', closeSidebar);

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved Telegram settings
            const savedSettings = localStorage.getItem('telegramSettings');
            if (savedSettings) {
                telegramSettings = JSON.parse(savedSettings);
                document.getElementById('telegram-bot-token').value = telegramSettings.botToken || '';
                document.getElementById('telegram-chat-id').value = telegramSettings.chatId || '';
            }
            
            showPage('home');
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96e191a1778e5489',t:'MTc1NTAxODQ0Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
